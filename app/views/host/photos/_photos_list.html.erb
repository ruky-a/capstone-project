

<div class="container"> 
  <div class="row">
    <% @room.photos.each do |photo| %>
    <% if photo.images.attached? %>
    <% (0...photo.images.count).each do |image| %>
    <div class="col-md-4">
      <div class="card"> 
        <%= image_tag(photo.thumbnail(image)) %>
        <div class="card-body"> 
          <%= photo.caption %>
          <span class="pull-right">
            <%= link_to host_room_photo_path(photo.room_id, photo), remote: true, :onclick => 'remove_image('+image.to_s+')', method: :delete, data: {confirm: "Are you sure you want to delete?"} do %>
            <i class="fa fa-trash-o" aria-hidden="true"></i></span>
            <% end %>
          </div>
        </div> 
      </div>
      <% end %>
      <% end %>
      <% end %>
    </div>
  </div>










<script>
  function remove_image(id) {
    document.getElementById('photo_'+id).remove();
  }
  
</script>
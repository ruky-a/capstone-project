<div class="container">
  <div class="box col-md-12">
        <h3><%= @room.listing_name %></h3>
        <% if @room.images.attached? %><%= image_tag @room.images.first, width: "100%", height: "400px"  %>
        <% end %>
        <!--  -->
        <div class="footer">
        </div>
      </div>
    </div>
  </div>
</div>
     

      <div class="container">
        <div class="row">
      <div class="box col-md-4">
    <h3>About Listing</h3><br />
      <p><%= @room.description %></p>
    </div>
        <div class="box col-md-6">
         <h5>Amenities</h5><br />
       <div class="row">
        <% @room.amenities.each do |amenity| %>
        <div class="col-md 4 ">
          <span class="pull-left"><i class="fa fa-home fa-1x" style="color:  #404040"></i> <%= amenity.hometype %></span><br />


          <span class="pull-left"><i class="fa fa-user fa-1x" style="color:  #404040"></i> <%=  pluralize(amenity.accommodate, "Guest") %></span>
        </div>


        <div class="col-md 4">
          <span class="pull-left"><i class="fa fa-bed fa-1x" style="color:  #404040"></i> <%= pluralize(amenity.bedroom, "Bedroom") %></span><br />

          <span class="pull-left"><i class="fa fa-bath fa-1x" style="color:  #404040"></i> <%=  pluralize(amenity.bathroom, "Bathroom") %></span><br />

        </div>
        <% end %>
      </div>
    </div>

       
   
       <div class="col-md-2">
       <%= image_tag @room.user.avatar, class: "rounded-circle", size: 120 %>
   </div>
   </div>
 </div>
 <br /><br />


   








<div class="container">
 <div class="row">
    <div class="box col-md-8">
      <% if @room.latitude.present? && @room.longitude.present? %>
      <script>
        function initMap() {
          var myLatLng = {lat: <%= @room.latitude %>, lng: <%= @room.longitude %>};

          var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 12,
            center: myLatLng
          });

          var marker = new google.maps.Marker({
            position: myLatLng,
            map: map,
            title: 'Hello World!'
          });
          var infoWindow = new google.maps.InfoWindow ({
            content: '<div id="content"><%= image_tag @room.images.first, width: "280px", height: "180px" %></div>'
          });

          infoWindow.open(map, marker);

        }
      </script>
      <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDVI2DOGtO42Xt_-e9elvVoFH2vL0WyaMI&callback=initMap">
    </script>
    <div id="map"></div>
    <% end %>

    <span class="pull-left"><i class="fa fa-map-marker fa-1x" style="color:  #404040"> </i> <%= link_to @room.address %></span><br />
    <span class="pull-left"><i class="fa fa-envelope fa-1x" style="color:  #404040"> </i> <%= @room.user.email %></span><br />
  
    </div>

  

  
    <div class="col-md-4">
  
     <%= render 'reservations/form' %>
   </div>
 </div>
</div>






<div class="container">
  <%= render 'host/photos/photos' %>
</div><br />










<div class="container"> 
     <h3 class="text-center">Rooms Nearby</h3>
  <div class="row">
<% for room in @room.nearbys(10) %>
  <div class="col-md-3">
    <div class="card"> 
     <%= image_tag room.images.first, width: "100%", height: "100%"  %>
      <div class="card-body"> 
          <h4 class="card-title"><%= link_to room.listing_name, room %></h4>  
               <div class="footer">
                  <span> $<%= room.rate %></span>
                  <span>Per Night</span>
                </div>
                <br />
            (<%= room.distance.round(2) %> miles away) 
               <% end %>
                </div> 
            </div>
            </div>
          </div>
          </div>

